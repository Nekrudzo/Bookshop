(()=>{"use strict";const e=document.getElementById("point-list"),o=document.getElementById("slide-img-desktop"),n=document.querySelectorAll(".header__list a"),t=document.querySelectorAll("#nav a");document.getElementById("btn-load"),document.querySelectorAll(".categories__item"),n.forEach((e=>{e.addEventListener("click",(function(){n.forEach((e=>e.classList.remove("active"))),this.classList.add("active")}))})),t.forEach((e=>{e.addEventListener("click",(function(){t.forEach((e=>e.classList.remove("active"))),this.classList.add("active")}))}));const s=[{slideImgDesktop:"../Bookshop/src/images/slider/BlackFridaySale.png"},{slideImgDesktop:"../Bookshop/src/images/slider/OurCozyBooks.png"},{slideImgDesktop:"../Bookshop/src/images/slider/TopTenBooks.png"}];let i=0;const c=function(n){o.src=s[n].slideImgDesktop,e.children[i].children[0].src="../Bookshop/src/images/icons/icon_point_no-active.svg",e.children[n].children[0].src="../Bookshop/src/images/icons/icon_point_active.svg",i=n};e.addEventListener("click",(function(o){!function(e,o){let n=Array.from(o.children).findIndex((o=>o.children[0]===e.target));-1!==n&&n!==i&&c(n)}(o,e)})),setInterval((()=>{c((i+1)%s.length)}),5e3),async function(){try{const e=await fetch("https://www.googleapis.com/books/v1/volumes?q=&key=<AIzaSyBVwpoPFvi8crj5_BlFfh3QR7nMVFKyH1U>&printType=books&startIndex=0&maxResults=6&langRestrict=en");!function(e){const o=document.getElementById("books-list");o.innerHTML="",e.forEach((e=>{const n=document.createElement("div");n.className="card";const t=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/150",s=e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"Неизвестный автор",i=e.volumeInfo.title||"Без названия",c=e.volumeInfo.averageRating?`${e.volumeInfo.averageRating} ${function(e){return"★".repeat(Math.floor(e))+"★".repeat(5-Math.floor(e))}(e.volumeInfo.averageRating)} (${e.volumeInfo.ratingsCount||0} отзывов)`:"",l=e.volumeInfo.description?function(e){const o=e.split(" ");return o.length>30?o.slice(0,30).join(" ")+"...":e}(e.volumeInfo.description):"Описание отсутствует",a="FOR_SALE"===e.saleInfo.saleability?`${e.saleInfo.listPrice.amount} ${e.saleInfo.listPrice.currencyCode}`:null;n.innerHTML=`\n            <img src="${t}" alt="${i}">\n            <h3>${i}</h3>\n            <p>${s}</p>\n            ${c?`<p class="stars">${c}</p>`:""}\n            <p class="description">${l}</p>\n            ${a?`<p>${a}</p>`:""}\n        `,o.appendChild(n)}))}((await e.json()).items)}catch(e){console.error("Ошибка при получении данных:",e)}}()})();